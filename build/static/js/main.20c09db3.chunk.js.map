{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/helper.js","services/notifications.js","App.js","index.js"],"names":["Filter","props","filterName","handleFilter","type","value","onChange","PersonForm","addPerson","newName","newNumber","handleChangeName","handleChangeNum","onSubmit","required","Persons","filteredPersons","deletePerson","length","map","person","i","id","key","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","put","delete","store","addNotification","title","message","container","animationIn","animationOut","dismiss","duration","App","useState","persons","setPersons","setNewName","setNewNum","setFilterName","useEffect","apiService","returnedPerson","filter","toLowerCase","includes","e","target","preventDefault","str","personObject","split","word","replace","toUpperCase","join","findIndex","JSON","stringify","window","confirm","splice","toast","catch","error","concat","details","Object","keys","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.20c09db3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter =(props) => {\n  const {filterName, handleFilter} = props;\n  return(\n      <p>filter shown with\n\t\t\t\t<input type=\"text\" \n\t\t\t\t\tvalue={filterName} \n\t\t\t\t\tonChange={handleFilter} />\n\t\t\t</p>\n  )\n}\nexport default Filter;","import React from 'react'\n\nconst PersonForm = (props) => {\n  const { addPerson, newName, newNumber, handleChangeName, handleChangeNum } = props;\n  return (\n    <form onSubmit={addPerson} >\n\t\t\t\t<div>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tname: \n\t\t\t\t\t\t<input type=\"text\" \n\t\t\t\t\t\t\tvalue={newName} \n\t\t\t\t\t\t\tonChange={handleChangeName} \n\t\t\t\t\t\t\trequired /> \n\t\t\t\t\t</label> \n\t\t\t\t</div> \n\t\t\t\t<div>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tnumber:\n\t\t\t\t\t\t<input type=\"number\" \n\t\t\t\t\t\t\tvalue={newNumber} \n\t\t\t\t\t\t\tonChange={handleChangeNum} \n\t\t\t\t\t\t\trequired /> \n\t\t\t\t\t</label> \n\t\t\t\t</div>\n\t\t\t\t<button type=\"submit\">add</button> \n\t\t\t</form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = (props) => {\n  const { filteredPersons, deletePerson } = props;\n  return (\n    <>\n    {filteredPersons.length === 0 && <p>Add names first</p>}\n    <table>\n      <tbody>\n      \n      {filteredPersons.length > 0 && filteredPersons.map((person,i) => person.id && \n        <tr key={`${person}-${i}`}>\n          <td>{person.name}</td>\n          <td>{person.number}</td>\n          <td><button onClick={() => deletePerson({id : person.id, name: person.name})}>delete</button></td>\n        </tr>)}\n      </tbody>\n    </table>\n    </>\n  )\n}\n\nexport default Persons","import axios from 'axios'\n\n//const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'https://pbookfso.herokuapp.com/api/persons'\n\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove}","import { store } from 'react-notifications-component';\n\nconst successfullAdd = (name) => {\n  return store.addNotification({\n    title: 'Successfully Added',\n    message: `${name} was added`,\n    type: 'success',                         // 'default', 'success', 'info', 'warning'\n    container: 'top-right',                // where to position the notifications\n    animationIn: [\"animated\", \"fadeIn\"],     // animate.css classes that's applied\n    animationOut: [\"animated\", \"fadeOut\"],   // animate.css classes that's applied\n    dismiss: {\n      duration: 3000 \n    }\n  })\n}\n\nconst successfullUpdated = (name) => {\n  return store.addNotification({\n    title: 'Successfully Updated',\n    message: `${name} was updated`,\n    type: 'info',                         // 'default', 'success', 'info', 'warning'\n    container: 'top-right',                // where to position the notifications\n    animationIn: [\"animated\", \"fadeIn\"],     // animate.css classes that's applied\n    animationOut: [\"animated\", \"fadeOut\"],   // animate.css classes that's applied\n    dismiss: {\n      duration: 3000 \n    }\n  })\n} \n\nconst successfullDeleted = (name) => {\n  return store.addNotification({\n    title: 'Successfully Deleted',\n    message: `${name} was deleted`,\n    type: 'danger',                         // 'default', 'success', 'info', 'warning'\n    container: 'top-right',                // where to position the notifications\n    animationIn: [\"animated\", \"fadeIn\"],     // animate.css classes that's applied\n    animationOut: [\"animated\", \"fadeOut\"],   // animate.css classes that's applied\n    dismiss: {\n      duration: 3000 \n    },\n  })\n}\n\nconst error = (name) => {\n  return store.addNotification({\n    //title: 'Successfully Deleted',\n    message: `Information of ${name} has already been removed from server`,\n    type: 'danger',                         // 'default', 'success', 'info', 'warning'\n    container: 'top-center',                // where to position the notifications\n    animationIn: [\"animated\", \"fadeIn\"],     // animate.css classes that's applied\n    animationOut: [\"animated\", \"fadeOut\"],   // animate.css classes that's applied\n    dismiss: {\n      duration: 3000 \n    },\n  })\n}\n\nexport default { successfullAdd, successfullUpdated, successfullDeleted, error }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport apiService from './services/helper'\nimport ReactNotification from 'react-notifications-component'\nimport toast from './services/notifications'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNum ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  \n\n  useEffect(() => {\n    apiService\n      .getAll()\n      .then(returnedPerson => {\n        setPersons(returnedPerson)\n      })\n    }, [])\n  \n  const handleChangeName = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleChangeNum = (e) => {\n    setNewNum(e.target.value)\n  }\n\n  const handleFilter = e => {\n    setFilterName(e.target.value)\n  }\n  const filteredPersons = filterName === '' ? persons : persons && persons.filter(person => (person.name.toLowerCase()).includes(filterName.toLowerCase()));\n\n\n  // polyfill for startcase string\n  const titleCase = (str) => {\n    return str.toLowerCase().split(' ').map(function(word) {\n      return word.replace(word[0], word[0].toUpperCase());\n    }).join(' ');\n  }\n  //\n  const addPerson = e => {\n    e.preventDefault();\n    const personObject = {\n      name: titleCase(newName),\n      number: newNumber,  \n    }\n    let key = persons.length>0 ? persons.findIndex(person => JSON.stringify(person.name).toLowerCase() === JSON.stringify(personObject.name).toLowerCase()) : -1\n    if(key>=0){\n      let id = persons[key].id\n      if(window.confirm(`${newName} is already added to phonebook, replace the new number with old one?`)){\n        apiService\n        .update(id, personObject)\n        .then(returnedPerson => {\n          persons.splice(key, 1, returnedPerson)\n          setPersons(persons)\n          toast.successfullUpdated(newName)\n          setNewName('')\n          setNewNum('')\n        })\n        .catch(error => {\n          toast.error(newName)\n          setNewName('')\n          setNewNum('')\n        })\n      }\n      else{\n        setNewName('')\n        setNewNum('')\n      }\n    }\n    else{\n      apiService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        toast.successfullAdd(personObject.name)\n        setNewName('')\n        setNewNum('')\n        \n      })\n    }\n    \n  }\n  \n  const deletePerson = (details) => {\n    if(window.confirm(`Delete ${details.name} ?`)){\n      apiService\n      .remove(details.id)\n      .then(returnedPerson => {\n        setPersons( persons.map(person => person.id !== details.id ? person : returnedPerson).filter(person => Object.keys(person).length!==0))\n      })\n      toast.successfullDeleted(details.name)\n    }\n  }\n\n  \n\n\n  return (\n      <>\n      <ReactNotification />\n      <section>\n        <h2>Phonebook~</h2>\n        <Filter filterName={filterName} handleFilter={handleFilter} />\n        <br/>\n        <h2>Add a new~</h2>\n        <PersonForm \n          addPerson={addPerson} \n          newName={newName} \n          newNumber={newNumber} \n          handleChangeName={handleChangeName} \n          handleChangeNum={handleChangeNum} \n        />\n        <br/>\n        <h2>Names~</h2>\n        <Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\n      </section>\n      </>\n  )\n}\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'sanitize.css'\nimport 'animate.css'\nimport 'react-notifications-component/dist/theme.css'\nimport './index.css'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}